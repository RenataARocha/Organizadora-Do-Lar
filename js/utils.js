export function normalizarCategoria(categoria) {
  return categoria
    .toLowerCase()
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '');
}

export function obterIconeCategoria(categoria) {
  const icones = {
    // Categorias financeiras principais
    salario: 'ğŸ’µ',
    freelancer: 'ğŸ§‘â€ğŸ’»',
    pix_recebido: 'ğŸ’¸',
    alimentacao: 'ğŸ½ï¸',
    contas: 'ğŸ’¡',
    transporte: 'ğŸšŒ',
    lazer: 'ğŸ¨',
    saude: 'ğŸ©º',
    educacao: 'ğŸ“š',
    compras: 'ğŸ›ï¸',
    outros: 'ğŸ“¦',
    Receita: 'ğŸ’°',
    Despesa: 'ğŸ›’',
    AlimentaÃ§Ã£o: 'ğŸ½ï¸',
    Outros: 'ğŸ“¦',
    Lazer: 'ğŸ¨',
    Freelancer: 'ğŸ§‘â€ğŸ’»',
    receita: 'ğŸ’°',
    despesa: 'ğŸ›’',

    // Gatilhos extras jÃ¡ existentes (mantive os seus!)
    tarefa: 'ğŸ“',
    trabalho: 'ğŸ’¼',
    remedio: 'ğŸ’Š',
    conta: 'ğŸ’¸',
    pix: 'ğŸ’¸',
    limpeza: 'ğŸ§¹',
    skincare: 'ğŸ’…',
    cronograma: 'ğŸ’‡â€â™€ï¸',
    exercicio: 'ğŸƒâ€â™€ï¸',
    meditacao: 'ğŸ§˜â€â™€ï¸',
    leitura: 'ğŸ“–',
    filme: 'ğŸ¬',
    serie: 'ğŸ“º',
    organizacao: 'ğŸ—‚ï¸',
    aniversario: 'ğŸ‚',
    meta: 'ğŸ¯',
    motivacao: 'ğŸ’–',
    conquista: 'ğŸ†',
    devocional: 'ğŸ™',
    familia: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§',
    filho: 'ğŸ§’',
    pessoal: 'ğŸŒ¸',
    profissional: 'ğŸ’¼',
    financeira: 'ğŸ’°',
    financa: 'ğŸ’°',
    higiene: 'ğŸ§¼',
    farmacia: 'ğŸ¥',
    Farmacia: 'ğŸ¥',
    pet: 'ğŸ¶',
    cozinha: 'ğŸ³',
    banheiro: 'ğŸ›',
    sala: 'ğŸ›‹ï¸',
    quarto: 'ğŸ›ï¸',
    lavanderia: 'ğŸ§º',
    quintal: 'ğŸŒ¿',
    varanda: 'ğŸŒ¤ï¸',
    escritorio: 'ğŸ’»',
    garagem: 'ğŸš—',
    corredor: 'ğŸšª',
    entrada: 'ğŸ ',
    escola: 'ğŸ ',
    cabelo: 'ğŸ’‡â€â™€ï¸',
    esfoliacao: 'ğŸ§–â€â™€ï¸',
    hidratacao: 'ğŸ’§',
    tratamento: 'ğŸ§ª',
    maquiagem: 'ğŸ’„',
    tonico: 'ğŸŒ¿',
    protetor: 'ğŸŒ',
    noturno: 'ğŸŒ™',
    diurno: 'â˜€ï¸',
    alimento: 'ğŸ›’',
    curso: 'ğŸ“œ',
    autocuidado: 'ğŸ›',
    maternidade: 'ğŸ‘¶',
    economia: 'ğŸ¦',
    desafio: 'ğŸ”¥',
    sonho: 'ğŸŒˆ',
    viagem: 'âœˆï¸',
    passeio: 'ğŸ§³',
    hobby: 'ğŸ²',
    espiritual: 'ğŸ•Šï¸',
    voluntariado: 'ğŸ‘',
    objetivo: 'ğŸ“Œ',
    foco: 'ğŸ¯',
    planner: 'ğŸ—“ï¸',
    inspiracao: 'ğŸŒŸ',

    // Exames
    exame_de_sangue: 'ğŸ’‰',
    ginecologica: 'ğŸ§«',
    exame_de_vista: 'ğŸ‘ï¸',
    consulta_dentista: 'ğŸ¦·',
    ultrassom: 'ğŸ–¼ï¸',
    raio_x: 'ğŸ©»',

    // Alimentos detalhados
    bebida: 'ğŸ§ƒ',
    roupas: 'ğŸ‘š',
    papelaria: 'ğŸ“',
    cafe_da_manha: 'ğŸ¥',
    almoco: 'ğŸ›',
    jantar: 'ğŸ½ï¸',
    sobremesa: 'ğŸ°',
    lanche: 'ğŸ¥ª',
    frutas: 'ğŸ',
    legumes: 'ğŸ¥•',
    verduras: 'ğŸ¥¬',
    carnes: 'ğŸ—',
    peixe: 'ğŸŸ',
    frango: 'ğŸ–',
    massas: 'ğŸ',
    arroz_feijao: 'ğŸš',
    sopas: 'ğŸ¥£',
    congelados: 'ğŸ§Š',
    marmita: 'ğŸ±',
    saudavel: 'ğŸ’š',
    especial: 'â­',
    favorito: 'â¤ï¸',
    guloseima: 'ğŸ«',
    padaria: 'ğŸ',
    cafe: 'â˜•',

    // Limpeza detalhada
    faxina: 'ğŸ§¹',
    banheiro_limpeza: 'ğŸš½',
    cozinha_limpeza: 'ğŸ³',
    roupas_limpeza: 'ğŸ‘š',
    sala_limpeza: 'ğŸ›‹ï¸',
    quarto_limpeza: 'ğŸ›ï¸',
    varanda_limpeza: 'ğŸŒ¿',
    geladeira: 'ğŸ§Š',
    organizar: 'ğŸ“¦',

    // Skincare
    hidratacao_skincare: 'ğŸ’§',
    limpeza_skincare: 'ğŸ«§',
    esfoliacao_skincare: 'ğŸ§¼',
    mascara: 'ğŸ­',
    protetor_solar: 'ğŸŒ',
    tonico_skincare: 'ğŸƒ',
    rotina_skincare: 'ğŸ§–â€â™€ï¸',
    serum: 'ğŸ§ª',
    creme: 'ğŸ§´',
    gel: 'ğŸ«§',
    skincare: 'ğŸª',
    espuma: 'ğŸ«§',
    esfoliante: "ğŸ§½",
    oleo: "ğŸ›¢ï¸",

    // Cronograma capilar
    reconstrucao: 'ğŸ’ª',
    nutricao: 'ğŸ¥‘',
    hidratar_cabelo: 'ğŸŒŠ',
    pre_poo: 'ğŸ«™',
    finalizacao: 'ğŸ€',
    cronograma_capilar: 'ğŸ§´',

    // Cronograma Estudo
    revisao: 'ğŸ“š',
    pratica: 'ğŸ§ ',
    aula: 'ğŸ‘©â€ğŸ«',

    // RemÃ©dios
    antibiotico: 'ğŸ’Š',
    analgesico: 'ğŸ©¹',
    suplemento: 'ğŸ¯',
    vitamina: 'ğŸŠ',
    colirio: 'ğŸ‘ï¸',
    inalacao: 'ğŸ’¨',
    xarope: 'ğŸ§ƒ',
    horario: 'â°',
    remedios: 'ğŸ’Š',
    remedio: 'ğŸ’Š',
    remedio_com_acento: 'ğŸ’Š',
    remedios_com_acento: 'ğŸ’Š',
    consulta: 'ğŸ©º',
    exame: 'ğŸ§ª',
    retorno: 'ğŸ”',
  };

  if (!categoria) return 'â“';

  const chave = normalizarCategoria(categoria).replace(/\s+/g, '_');
  return icones[chave] || 'ğŸ“Œ';
}
